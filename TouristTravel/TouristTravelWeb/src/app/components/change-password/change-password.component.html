<app-modal-window title="Change Password">
  <div class="modal-body">
      <form [formGroup]="changePasswordForm" (ngSubmit)="changePassword()">
        <div class="form-group row">
            <label class="col-sm-4 col-form-label">Current Password</label>
            <div class="col-sm-8">
                <input type="text" class="form-control" 
                formControlName = "oldPassword"
                type="password"
                placeholder="Current password">
            </div>
        </div>

      <div class="form-group row">
          <label class="col-sm-4 col-form-label">New Password</label>
          <div class="col-sm-8">
              <input type="text" class="form-control" 
              formControlName = "newPassword"
              type="password"
              placeholder="New password">
          </div>
      </div>

      <div class="form-group row">
          <label class="col-sm-4 col-form-label">Confirm Password</label>
          <div class="col-sm-8">
              <input type="text" class="form-control" 
              formControlName = "confirmPassword"
              type="password"
              placeholder="Confirm password">
          </div>
      </div>

      <div class="alert alert-danger" 
           *ngIf="!isFieldValid('newPassword') || !isFieldValid('confirmPassword') || !isPasswordEqual('newPassword', 'confirmPassword')">
          <ul>
              <li *ngIf="!isFieldValid('newPassword')">
                  Password must contain at least one number, one uppercase,
                  and lowercase letter, and at least 8
              </li>
              <li *ngIf="!isPasswordEqual('newPassword', 'confirmPassword') && isFieldValid('newPassword')">
                  Passwords do not match!
              </li>
          </ul>
      </div>

      <div class="modal-footer row">
          <button type="button" class="btn btn-light col-sm-3" (click)="activeModal.close('Close click')">Cancel</button>
          <button  type="submit" class="btn btn-info col-sm-4" [disabled]="changePasswordForm.invalid">Change Password</button>
      </div>      
      </form>
  </div>
</app-modal-window>